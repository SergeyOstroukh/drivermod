# Инструкция по настройке таблицы в Supabase

Ваш Supabase проект уже настроен! Осталось только создать таблицу.

## Шаг 1: Откройте SQL Editor в Supabase

1. Перейдите на https://supabase.com/dashboard
2. Выберите ваш проект (mrdicoctfaxdrmoluqpi)
3. В левом меню нажмите **SQL Editor**
4. Нажмите **New query**

## Шаг 2: Выполните SQL скрипт

1. Скопируйте весь код из файла `supabase/migrations/001_create_suppliers_table_supabase.sql`
2. Вставьте в SQL Editor
3. Нажмите **Run** (или `Ctrl+Enter` / `Cmd+Enter`)

**Важно**: Если таблица уже создана, выполните также миграцию `002_add_working_hours_and_additional_info.sql` для добавления новых полей.

## Шаг 3: Проверьте создание таблицы

1. В левом меню нажмите **Table Editor**
2. Должна появиться таблица `suppliers` со следующими полями:
   - id
   - name
   - address
   - lat
   - lon
   - working_hours (новое поле)
   - additional_info (новое поле)
   - info (JSONB, для дополнительных точек)
   - created_at
   - updated_at

## Готово!

Теперь откройте `index.html` в браузере - приложение автоматически подключится к вашей базе данных.

При первом запуске данные из `suppliers.json` будут автоматически импортированы.

---

## Новые возможности

Теперь в форме добавления/редактирования поставщика доступны:
- **Время работы** - текстовое поле для указания времени работы (например: "Пн-Пт: 9:00-18:00")
- **Дополнительная информация** - текстовое поле для любой дополнительной информации
- **Дополнительные точки (JSON)** - для координат дополнительных точек маршрута (как раньше)

Эта информация будет отображаться на карточках поставщиков.

---

## Если возникли проблемы

### Ошибка "permission denied"
- Убедитесь, что вы выполнили SQL скрипт полностью
- Проверьте, что политики RLS созданы

### Таблица не видна
- Обновите страницу Table Editor
- Проверьте, что вы в правильном проекте

### Ошибка подключения в приложении
- Убедитесь, что `js/config.js` содержит правильные данные (уже настроено)
- Проверьте консоль браузера (F12) на наличие ошибок

### Новые поля не отображаются
- Убедитесь, что выполнили миграцию `002_add_working_hours_and_additional_info.sql`
- Или пересоздайте таблицу с помощью `001_create_suppliers_table_supabase.sql` (удалив старую таблицу)
