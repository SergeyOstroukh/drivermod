<!doctype html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<title>–ú–∞—Ä—à—Ä—É—Ç—ã –∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º</title>
	<script>var __v = Date.now();</script>
	<link rel="stylesheet" href="styles.css?v=20260214b">
	<link rel="preconnect" href="https://yastatic.net">
	<meta name="theme-color" content="#111827">
</head>
<body>
	<header class="header">
		<nav class="nav-tabs">
			<button class="nav-tab active" data-section="suppliers">–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</button>
			<button class="nav-tab" data-section="partners">–ü–∞—Ä—Ç–Ω—ë—Ä—ã</button>
			<button class="nav-tab" data-section="drivers">–í–æ–¥–∏—Ç–µ–ª–∏</button>
			<button class="nav-tab" data-section="vehicles">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏</button>
			<button class="nav-tab" data-section="distribution" id="distributionTab" style="display:none;">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</button>
		</nav>
		<div class="header-top">
			<h1 id="pageTitle">–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏</h1>
			<label class="search">
				<input id="searchInput" class="search-input" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é" autocomplete="off" />
			</label>
		<div class="header-actions">
		<button id="viewToggleBtn" class="btn btn-secondary btn-icon-only" type="button" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∏–¥">
			<svg id="viewToggleIcon" class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<line x1="8" y1="6" x2="21" y2="6"></line>
				<line x1="8" y1="12" x2="21" y2="12"></line>
				<line x1="8" y1="18" x2="21" y2="18"></line>
				<line x1="3" y1="6" x2="3.01" y2="6"></line>
				<line x1="3" y1="12" x2="3.01" y2="12"></line>
				<line x1="3" y1="18" x2="3.01" y2="18"></line>
			</svg>
		</button>
		<button id="addSupplierBtn" class="btn btn-primary" type="button">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<line x1="12" y1="5" x2="12" y2="19"></line>
					<line x1="5" y1="12" x2="19" y2="12"></line>
				</svg>
				–î–æ–±–∞–≤–∏—Ç—å
			</button>
			<button id="addPartnerBtn" class="btn btn-primary" type="button" style="display:none;">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<line x1="12" y1="5" x2="12" y2="19"></line>
					<line x1="5" y1="12" x2="19" y2="12"></line>
				</svg>
				–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞
			</button>
			<button id="officeBtn" class="btn btn-secondary" type="button">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
					<circle cx="12" cy="10" r="3"></circle>
				</svg>
				–û—Ñ–∏—Å
			</button>
			<button id="warehouseBtn" class="btn btn-secondary" type="button">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
					<circle cx="12" cy="10" r="3"></circle>
				</svg>
				–°–∫–ª–∞–¥
			</button>
			<button id="detectLocationBtn" class="btn btn-secondary" type="button">–û–±–Ω–æ–≤–∏—Ç—å –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é</button>
			</div>
		</div>
	</header>

	<main id="app" class="container">
		<!-- –†–∞–∑–¥–µ–ª –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ -->
		<div id="suppliersSection" class="content-section active">
			<section id="status" class="status">
				<span id="geoStatus">–û–∂–∏–¥–∞–Ω–∏–µ –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏‚Ä¶</span>
			</section>

			<section class="route-section">
				<button id="buildRouteBtn" class="btn btn-primary route-btn" type="button" disabled>
					–ü–æ–µ—Ö–∞—Ç—å –ø–æ –º–∞—Ä—à—Ä—É—Ç—É
				</button>
				<button id="clearSelectionBtn" class="btn btn-outline route-btn" type="button">
					–°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ
				</button>
			</section>

		<section id="suppliersCardsView">
			<ul id="suppliersList" class="cards"></ul>
		</section>
		<section id="suppliersListView" style="display: none;">
			<div id="suppliersAlphaList" class="alpha-list"></div>
		</section>
	</div>

		<!-- –†–∞–∑–¥–µ–ª –ü–∞—Ä—Ç–Ω—ë—Ä—ã -->
		<div id="partnersSection" class="content-section">
			<section>
				<ul id="partnersList" class="cards"></ul>
			</section>
		</div>

		<!-- –†–∞–∑–¥–µ–ª –í–æ–¥–∏—Ç–µ–ª–∏ -->
		<div id="driversSection" class="content-section">
			<section class="section-header">
			<button id="addDriverBtn" class="btn btn-primary" type="button">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<line x1="12" y1="5" x2="12" y2="19"></line>
					<line x1="5" y1="12" x2="19" y2="12"></line>
				</svg>
				–î–æ–±–∞–≤–∏—Ç—å –≤–æ–¥–∏—Ç–µ–ª—è
			</button>
			<button id="openDistributedBtn" class="btn btn-outline" type="button">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M16 3h5v5"></path><path d="M4 20L21 3"></path>
					<path d="M21 16v5h-5"></path><path d="M15 15l6 6"></path>
					<path d="M4 4l5 5"></path>
				</svg>
				–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ
			</button>
			<button id="fetchTelegramBtn" class="btn btn-outline" type="button" style="background:#229ED9;color:#fff;border:none;">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
				–ü—Ä–∏–≤—è–∑–∞—Ç—å Telegram
			</button>
			<button id="openScheduleBtn" class="btn btn-outline" type="button" title="–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω">
				–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω
			</button>
			</section>
			<section>
				<ul id="driversList" class="cards"></ul>
			</section>
	</div>

	<!-- –†–∞–∑–¥–µ–ª –ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω (—Ç–∞–±–ª–∏—Ü–∞ –∫–∞–∫ –≤ Excel) -->
	<div id="scheduleSection" class="content-section" style="display:none;">
		<section class="section-header" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
			<button class="btn btn-outline btn-sm" id="backFromScheduleBtn">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
				–ù–∞–∑–∞–¥
			</button>
			<h2 style="margin:0;font-size:1.1rem;">–ì—Ä–∞—Ñ–∏–∫ —Å–º–µ–Ω</h2>
			<div style="display:flex;align-items:center;gap:8px;">
				<label class="form-label" style="margin:0;">–ú–µ—Å—è—Ü:</label>
				<input type="month" id="scheduleMonthInput" class="form-input" style="width:auto;" />
			</div>
			<p style="margin:0;font-size:12px;color:var(--muted);">P ‚Äî —Ä–∞–±–æ—á–∏–π, –í ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π, –ë ‚Äî –±–æ–ª—å–Ω–∏—á–Ω—ã–π, –¥–æ–ø ‚Äî –¥–æ–ø, –î ‚Äî –¥–µ–∂—É—Ä–Ω—ã–π, –û ‚Äî –æ—Ç–ø—É—Å–∫. –ü—Ä–æ–±–µ–≥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è P –∏ –¥–æ–ø. –¢–æ–ª—å–∫–æ Ctrl+–∫–ª–∏–∫ ‚Äî –≤—ã–±–æ—Ä —è—á–µ–µ–∫.</p>
			<div id="scheduleToolbar" style="display:none;align-items:center;gap:8px;margin-top:8px;">
				<span style="font-size:12px;color:var(--muted);">–í—ã–±—Ä–∞–Ω–æ –¥–Ω–µ–π: <strong id="scheduleSelectedCount">0</strong></span>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetWork">P ‚Äî —Ä–∞–±–æ—á–∏–π</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetOff">–í ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetSick">–ë ‚Äî –±–æ–ª—å–Ω–∏—á–Ω—ã–π</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetExtra">–¥–æ–ø</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetDuty">–î ‚Äî –¥–µ–∂—É—Ä–Ω—ã–π</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleSetVacation">–û ‚Äî –æ—Ç–ø—É—Å–∫</button>
				<button type="button" class="btn btn-outline btn-sm" id="scheduleClearSelection">–°–Ω—è—Ç—å –≤—ã–±–æ—Ä</button>
			</div>
		</section>
		<div id="scheduleHiddenDrivers" style="display:none;margin-bottom:12px;font-size:13px;">
			<span style="color:var(--muted);">–í–Ω–µ –≥—Ä–∞—Ñ–∏–∫–∞:</span>
			<span id="scheduleHiddenDriversList"></span>
		</div>
		<div class="schedule-layout" style="display:flex;gap:16px;align-items:flex-start;">
			<section class="schedule-table-wrap" style="overflow-x:auto;flex:1;min-width:0;">
				<table id="scheduleTable" class="schedule-table" style="min-width:800px;border-collapse:collapse;">
					<thead id="scheduleTableHead"></thead>
					<tbody id="scheduleTableBody"></tbody>
				</table>
			</section>
			<aside id="scheduleTodayPanel" class="schedule-today-panel" style="flex-shrink:0;min-width:180px;padding:12px;background:rgba(15,23,42,0.6);border-radius:8px;border:1px solid rgba(71,85,105,0.5);">
				<div style="font-weight:600;font-size:13px;margin-bottom:8px;color:var(--muted);">–°–µ–≥–æ–¥–Ω—è –Ω–∞ —Å–º–µ–Ω–µ (P, –¥–æ–ø, –î)</div>
				<div id="scheduleTodayList" style="font-size:12px;line-height:1.6;"></div>
			</aside>
		</div>
	</div>

	<!-- –†–∞–∑–¥–µ–ª –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ -->
	<div id="distributedSuppliersSection" class="content-section" style="display:none;">
		<section class="section-header" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
			<button class="btn btn-outline btn-sm" id="backFromDistributedBtn">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polyline points="15 18 9 12 15 6"></polyline>
				</svg>
				–ù–∞–∑–∞–¥
			</button>
			<h2 style="margin:0;font-size:1.1rem;">–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏</h2>
			<div style="margin-left:auto;display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
				<button id="distributedExportBtn" class="btn btn-outline btn-sm" type="button" title="–°–∫–∞—á–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ CSV">
					–°–∫–∞—á–∞—Ç—å CSV
				</button>
				<input id="distributedDateFilter" class="form-input" type="date" style="width:auto;padding:4px 8px;font-size:0.85rem;" />
				<select id="distributedDriverFilter" class="form-input" style="width:auto;padding:4px 8px;font-size:0.85rem;">
					<option value="">–í—Å–µ –≤–æ–¥–∏—Ç–µ–ª–∏</option>
				</select>
				<select id="distributedStatusFilter" class="form-input" style="width:auto;padding:4px 8px;font-size:0.85rem;">
					<option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
					<option value="pending">–û–∂–∏–¥–∞—é—Ç</option>
					<option value="completed">–ó–∞–±—Ä–∞–Ω–Ω—ã–µ</option>
				</select>
			</div>
		</section>
		<section class="distributed-content">
			<div class="table-wrapper">
				<table class="distributed-table" id="distributedTable">
					<thead>
						<tr>
							<th style="width:40px;">‚Ññ</th>
							<th>–ü–æ—Å—Ç–∞–≤—â–∏–∫</th>
							<th>–¢–æ–≤–∞—Ä</th>
							<th>–í–æ–¥–∏—Ç–µ–ª—å</th>
							<th>–°—Ç–∞—Ç—É—Å</th>
							<th>–í—Ä–µ–º—è</th>
						</tr>
					</thead>
					<tbody id="distributedTableBody">
						<tr>
							<td colspan="6" style="text-align:center;color:var(--muted);">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
	</div>

	<!-- –†–∞–∑–¥–µ–ª –ú–∞—Ä—à—Ä—É—Ç –≤–æ–¥–∏—Ç–µ–ª—è -->
	<div id="driverRouteSection" class="content-section" style="display:none;">
		<section class="section-header" style="display:flex;align-items:center;gap:12px;">
			<button class="btn btn-outline btn-sm" onclick="closeDriverRoute()">
				<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polyline points="15 18 9 12 15 6"></polyline>
				</svg>
				–ù–∞–∑–∞–¥
			</button>
			<h2 id="driverRouteTitle" style="margin:0;font-size:1.1rem;">–ú–∞—Ä—à—Ä—É—Ç</h2>
		</section>
		<div class="driver-route-layout">
			<div id="driverRouteMap" class="driver-route-map"></div>
			<div id="driverRouteList" class="driver-route-list">
				<div class="route-empty">
					<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--muted)" stroke-width="1.5">
						<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
						<circle cx="12" cy="10" r="3"></circle>
					</svg>
					<p>–ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞...</p>
				</div>
			</div>
		</div>
	</div>

	<!-- –†–∞–∑–¥–µ–ª –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ -->
		<div id="vehiclesSection" class="content-section">
			<div id="vehiclesUserBar" class="user-bar" style="display:none;">
				<div class="user-bar-info">
					<span id="vehiclesUserIcon">üë§</span>
					<span id="vehiclesUserInfo">‚Äî</span>
				</div>
				<button id="vehiclesLogoutBtn" class="btn btn-outline btn-sm" type="button">–í—ã–π—Ç–∏</button>
			</div>
			<section class="section-header">
				<button id="addVehicleBtn" class="btn btn-primary" type="button">
					<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="12" y1="5" x2="12" y2="19"></line>
						<line x1="5" y1="12" x2="19" y2="12"></line>
					</svg>
					–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å
				</button>
			</section>
			<section>
				<ul id="vehiclesList" class="cards"></ul>
			</section>
		</div>

		<!-- –†–∞–∑–¥–µ–ª –õ–æ–≥ –ø—Ä–æ–±–µ–≥–∞ -->
		<div id="mileageSection" class="content-section" style="display: none;">
			<section class="section-header">
				<button id="backToVehiclesFromMileageBtn" class="btn btn-outline" type="button">
					<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M19 12H5M12 19l-7-7 7-7"></path>
					</svg>
					–ù–∞–∑–∞–¥ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º
				</button>
				<h2 id="mileageSectionTitle" class="section-title">–õ–æ–≥ –ø—Ä–æ–±–µ–≥–∞</h2>
				<button id="printMileageBtn" class="btn btn-primary" type="button" style="margin-left: auto;">
					<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<polyline points="6 9 6 2 18 2 18 9"></polyline>
						<path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
						<rect x="6" y="14" width="12" height="8"></rect>
					</svg>
					–ü–µ—á–∞—Ç—å
				</button>
			</section>
			<section class="mileage-content">
				<div class="mileage-form-section">
					<h3 class="mileage-form-title">–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–µ–≥</h3>
					<form id="mileageForm" class="supplier-form">
						<div class="form-group">
							<label for="mileageDriver" class="form-label">–í–æ–¥–∏—Ç–µ–ª—å *</label>
							<select id="mileageDriver" name="driver_id" class="form-input" required>
								<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–¥–∏—Ç–µ–ª—è</option>
							</select>
						</div>
						<div class="form-group">
							<label for="mileageValue" class="form-label">–ö–∏–ª–æ–º–µ—Ç—Ä–∞–∂ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ (–∫–º) *</label>
							<input type="number" id="mileageValue" name="mileage" class="form-input" min="0" required placeholder="0" />
							<small class="form-hint">–û–±—â–∏–π –ø—Ä–æ–±–µ–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏</small>
						</div>
						<div class="form-group">
							<label for="mileageDate" class="form-label">–î–∞—Ç–∞ *</label>
							<input type="date" id="mileageDate" name="log_date" class="form-input" required />
						</div>
						<div class="form-group" id="fuelLevelGroup" style="display: none;">
							<label for="mileageFuelLevel" class="form-label">–ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–ª–∏–≤–∞ –ø—Ä–∏ –≤—ã–µ–∑–¥–µ (–ª) *</label>
							<input type="number" id="mileageFuelLevel" name="fuel_level_out" class="form-input" min="0" step="0.1" placeholder="0" />
							<small class="form-hint">–£–∫–∞–∂–∏—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏</small>
						</div>
						<div class="form-group">
							<label for="mileageFuelRefill" class="form-label">–ó–∞–ø—Ä–∞–≤–∫–∞ –ª–∏—Ç—Ä–æ–≤</label>
							<input type="number" id="mileageFuelRefill" name="fuel_refill" class="form-input" min="0" step="0.1" placeholder="0" />
							<small class="form-hint">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∑–∞–ø—Ä–∞–≤–∫–∏ –Ω–µ –±—ã–ª–æ</small>
						</div>
						<div class="form-group">
							<label for="mileageNotes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
							<textarea id="mileageNotes" name="notes" class="form-textarea" rows="2" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
						</div>
						<div class="form-actions">
							<button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
						</div>
					</form>
				</div>
				<div class="mileage-table-section">
					<div class="mileage-filters">
						<label for="mileageMonthFilter" class="form-label">–ú–µ—Å—è—Ü:</label>
						<input type="month" id="mileageMonthFilter" class="form-input" />
						<button id="mileageFilterBtn" class="btn btn-outline">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
					</div>
					<div id="mileagePrintHeader" class="mileage-print-header" style="display: none;">
						<div class="print-header-row">
							<div class="print-header-item">
								<strong>–í–æ–¥–∏—Ç–µ–ª—å:</strong> <span id="printDriverName">‚Äî</span>
							</div>
							<div class="print-header-item">
								<strong>–ê–≤—Ç–æ–º–æ–±–∏–ª—å:</strong> <span id="printVehicleName">‚Äî</span>
							</div>
							<div class="print-header-item">
								<strong>–ü–µ—Ä–∏–æ–¥:</strong> <span id="printPeriod">‚Äî</span>
							</div>
						</div>
					</div>
					<div class="table-wrapper">
						<table class="mileage-table" id="mileageTable">
							<thead>
								<tr>
									<th>‚Ññ</th>
									<th>–î–∞—Ç–∞</th>
									<th>–í–æ–¥–∏—Ç–µ–ª—å</th>
									<th>–ö–º –ø—Ä–∏ –≤—ã–µ–∑–¥–µ</th>
									<th>–ö–º –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏</th>
									<th>–ü—Ä–æ–±–µ–≥ –∑–∞ —Å–µ–≥–æ–¥–Ω—è (–∫–º)</th>
									<th>–û—Å—Ç–∞—Ç–æ–∫ –ø—Ä–∏ –≤—ã–µ–∑–¥–µ (–ª)</th>
									<th>–û—Å—Ç–∞—Ç–æ–∫ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ (–ª)</th>
									<th>–ó–∞–ø—Ä–∞–≤–∫–∞ (–ª)</th>
									<th>–§–∞–∫—Ç. —Ä–∞—Å—Ö–æ–¥ (–ª)</th>
									<th>–î–µ–π—Å—Ç–≤–∏—è</th>
								</tr>
							</thead>
							<tbody id="mileageTableBody">
								<tr>
									<td colspan="11" style="text-align: center; color: var(--muted);">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</section>
		</div>

		<!-- –†–∞–∑–¥–µ–ª –ñ—É—Ä–Ω–∞–ª –¢–û -->
		<div id="maintenanceSection" class="content-section" style="display: none;">
			<section class="section-header">
				<button id="backToVehiclesFromMaintenanceBtn" class="btn btn-outline" type="button">
					<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M19 12H5M12 19l-7-7 7-7"></path>
					</svg>
					–ù–∞–∑–∞–¥ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º
				</button>
				<h2 id="maintenanceSectionTitle" class="section-title">–ñ—É—Ä–Ω–∞–ª –¢–û</h2>
			</section>
			<section class="maintenance-content">
				<div class="maintenance-form-section">
					<h3 class="maintenance-form-title">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –¢–û</h3>
					<form id="maintenanceForm" class="supplier-form">
						<div class="form-group">
							<label for="maintenanceMileage" class="form-label">–ü—Ä–æ–±–µ–≥ –ø—Ä–∏ –¢–û (–∫–º) *</label>
							<input type="number" id="maintenanceMileage" name="mileage" class="form-input" min="0" required placeholder="–ü—Ä–æ–±–µ–≥ –Ω–∞ –º–æ–º–µ–Ω—Ç –¢–û" />
						</div>
						<div class="form-group">
							<label for="maintenanceDate" class="form-label">–î–∞—Ç–∞ –¢–û *</label>
							<input type="date" id="maintenanceDate" name="service_date" class="form-input" required />
						</div>
						<div class="form-group">
							<label for="maintenanceWorkTypes" class="form-label">–í–∏–¥—ã —Ä–∞–±–æ—Ç *</label>
							<textarea id="maintenanceWorkTypes" name="work_types" class="form-textarea" rows="3" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∑–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞, –∑–∞–º–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ö–æ–¥–æ–≤–æ–π..."></textarea>
						</div>
						<div class="form-group">
							<label for="maintenanceParts" class="form-label">–ó–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –∑–∞–ø—á–∞—Å—Ç–∏</label>
							<textarea id="maintenanceParts" name="parts_replaced" class="form-textarea" rows="3" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –º–∞—Å–ª–æ Castrol 5W-30 (4–ª), —Ñ–∏–ª—å—Ç—Ä –º–∞—Å–ª—è–Ω—ã–π, —Ñ–∏–ª—å—Ç—Ä –≤–æ–∑–¥—É—à–Ω—ã–π..."></textarea>
						</div>
						<div class="form-group">
							<label for="maintenanceCost" class="form-label">–û–±—â–∞—è —Å—É–º–º–∞ (—Ä–∞–±–æ—Ç–∞ + –∑–∞–ø—á–∞—Å—Ç–∏)</label>
							<input type="number" id="maintenanceCost" name="total_cost" class="form-input" min="0" step="0.01" placeholder="0.00" />
						</div>
						<div class="form-group">
							<label for="maintenanceNotes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
							<textarea id="maintenanceNotes" name="notes" class="form-textarea" rows="2" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
						</div>
						<div class="form-actions">
							<button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
						</div>
					</form>
				</div>
				<div class="maintenance-table-section">
					<h3 class="maintenance-table-title">–ò—Å—Ç–æ—Ä–∏—è –¢–û</h3>
					<div class="table-wrapper">
						<table class="maintenance-table">
							<thead>
								<tr>
									<th>–î–∞—Ç–∞</th>
									<th>–ü—Ä–æ–±–µ–≥ (–∫–º)</th>
									<th>–í–∏–¥—ã —Ä–∞–±–æ—Ç</th>
									<th>–ó–∞–ø—á–∞—Å—Ç–∏</th>
									<th>–°—É–º–º–∞</th>
									<th>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</th>
									<th>–î–µ–π—Å—Ç–≤–∏—è</th>
								</tr>
							</thead>
							<tbody id="maintenanceTableBody">
								<tr>
									<td colspan="7" style="text-align: center; color: var(--muted);">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</section>
		</div>

		<!-- –†–∞–∑–¥–µ–ª –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è -->
		<div id="historySection" class="content-section" style="display: none;">
			<section class="section-header">
				<button id="backToVehiclesBtn" class="btn btn-outline" type="button">
					<svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M19 12H5M12 19l-7-7 7-7"></path>
					</svg>
					–ù–∞–∑–∞–¥ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º
				</button>
				<h2 id="historySectionTitle" class="section-title">–ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
			</section>
			<section class="history-content">
				<div class="history-form-section">
					<h3 class="history-form-title">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h3>
					<form id="historyForm" class="supplier-form">
						<div class="form-group">
							<label for="historyDriver" class="form-label">–í–æ–¥–∏—Ç–µ–ª—å *</label>
							<select id="historyDriver" name="history_driver_id" class="form-input" required>
								<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–¥–∏—Ç–µ–ª—è</option>
							</select>
						</div>
						<div class="form-group">
							<label for="historyStartDate" class="form-label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *</label>
							<input type="date" id="historyStartDate" name="history_start_date" class="form-input" required />
						</div>
						<div class="form-group">
							<label for="historyEndDate" class="form-label">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
							<input type="date" id="historyEndDate" name="history_end_date" class="form-input" />
							<small class="form-hint">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –µ—â–µ –Ω–µ –∑–∞–∫–æ–Ω—á–µ–Ω</small>
						</div>
						<div class="form-group">
							<label for="historyNotes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
							<textarea id="historyNotes" name="history_notes" class="form-textarea" rows="2" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
						</div>
						<div class="form-actions">
							<button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
						</div>
					</form>
				</div>
				<div class="history-table-section">
					<h3 class="history-table-title">–ò—Å—Ç–æ—Ä–∏—è</h3>
					<div class="table-wrapper">
						<table class="history-table">
							<thead>
								<tr>
									<th>–í–æ–¥–∏—Ç–µ–ª—å</th>
									<th>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</th>
									<th>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</th>
									<th>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</th>
									<th>–î–µ–π—Å—Ç–≤–∏—è</th>
								</tr>
							</thead>
							<tbody id="historyTableBody">
								<tr>
									<td colspan="5" style="text-align: center; color: var(--muted);">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</section>
		</div>
		<!-- –†–∞–∑–¥–µ–ª –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ -->
		<div id="distributionSection" class="content-section" style="display: none;">
			<div class="dc-layout">
				<aside class="dc-sidebar-wrap">
					<div class="dc-sidebar-scroll" id="dcSidebar">
						<!-- Rendered by distribution.js -->
					</div>
				</aside>
				<div class="dc-map-wrap">
					<div id="distributionMap" class="dc-map"></div>
				</div>
			</div>
		</div>

	</main>

	<footer class="footer">
		<div>¬© <span id="year"></span> –ú–∞—Ä—à—Ä—É—Ç—ã –∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º</div>
	</footer>

	<div id="routeModal" class="modal">
		<div class="modal-content">
			<h3 class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∞—Ä—à—Ä—É—Ç–∞</h3>
			<div id="navigatorWarning" class="modal-warning" style="display: none;">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<path d="M12 9v4m0 4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
				</svg>
				<span>–õ–∏–º–∏—Ç: 5 –≤—ã–∑–æ–≤–æ–≤ –≤ —Å—É—Ç–∫–∏ –±–µ–∑ –∫–ª—é—á–∞ API</span>
			</div>
			<div id="multiRouteWarning" class="modal-warning modal-info" style="display: none;">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
				</svg>
				<span>–î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã, –æ—Ç—Ç—É–¥–∞ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–µ</span>
			</div>
			<div class="modal-actions">
				<button id="openNaviBtn" class="btn btn-primary modal-btn">
					<svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
						<circle cx="12" cy="10" r="3"></circle>
					</svg>
					–Ø–Ω–¥–µ–∫—Å.–ù–∞–≤–∏–≥–∞—Ç–æ—Ä
				</button>
				<button id="openMapsBtn" class="btn btn-outline modal-btn">
					<svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
						<circle cx="12" cy="10" r="3"></circle>
					</svg>
					–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã
				</button>
				<button id="cancelRouteBtn" class="btn btn-outline modal-btn">
					–û—Ç–º–µ–Ω–∞
				</button>
			</div>
		</div>
	</div>

	<div id="supplierModal" class="modal">
		<div class="modal-content modal-content-large">
			<h3 class="modal-title" id="supplierModalTitle">–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</h3>
			<form id="supplierForm" class="supplier-form">
				<div class="form-group">
					<label for="supplierName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
					<input type="text" id="supplierName" name="name" class="form-input" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–≥—Ä–æ–ø–∞—Ä–∫-–ú" />
				</div>
				<div class="form-group">
					<label for="supplierAddress" class="form-label">–ê–¥—Ä–µ—Å</label>
					<input type="text" id="supplierAddress" name="address" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 4 –ø–µ—Ä. –º–æ–Ω—Ç–∞–∂–Ω–∏–∫–æ–≤ 5" />
				</div>
				<div class="form-group">
					<label for="supplierLat" class="form-label">–®–∏—Ä–æ—Ç–∞ (lat) *</label>
					<input type="number" id="supplierLat" name="lat" class="form-input" step="any" required placeholder="53.874443" />
				</div>
				<div class="form-group">
					<label for="supplierLon" class="form-label">–î–æ–ª–≥–æ—Ç–∞ (lon) *</label>
					<input type="number" id="supplierLon" name="lon" class="form-input" step="any" required placeholder="27.413769" />
				</div>
				<div class="form-group">
					<label for="supplierWorkingHours" class="form-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</label>
					<input type="text" id="supplierWorkingHours" name="working_hours" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–Ω-–ü—Ç: 9:00-18:00, –°–±: 10:00-16:00" />
				</div>
				<div class="form-group">
					<label for="supplierAdditionalInfo" class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
					<textarea id="supplierAdditionalInfo" name="additional_info" class="form-textarea" rows="4" placeholder="–õ—é–±–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–µ..."></textarea>
					<small class="form-hint">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –õ—é–±–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</small>
				</div>
				<div class="form-group">
					<label for="supplierInfo" class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (JSON, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
					<textarea id="supplierInfo" name="info" class="form-textarea" rows="3" placeholder='{"–°–∫–ª–∞–¥": "53.874443, 27.413769", "–û—Ñ–∏—Å": "53.883330, 27.455246"}'></textarea>
					<small class="form-hint">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. JSON –æ–±—ä–µ–∫—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤</small>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary modal-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
					<button type="button" id="cancelSupplierBtn" class="btn btn-outline modal-btn">–û—Ç–º–µ–Ω–∞</button>
					<button type="button" id="deleteSupplierBtn" class="btn btn-danger modal-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
				</div>
			</form>
		</div>
	</div>

	<div id="partnerModal" class="modal">
		<div class="modal-content modal-content-large">
			<h3 class="modal-title" id="partnerModalTitle">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞</h3>
			<form id="partnerForm" class="supplier-form">
				<div class="form-group">
					<label for="partnerName" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
					<input type="text" id="partnerName" name="name" class="form-input" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—Ä–∏–≤–∏—Å—Ç" />
				</div>
				<div class="form-group">
					<label for="partnerAddress" class="form-label">–ê–¥—Ä–µ—Å</label>
					<input type="text" id="partnerAddress" name="address" class="form-input" placeholder="–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º" />
				</div>
				<div class="form-group">
					<label for="partnerLat" class="form-label">–®–∏—Ä–æ—Ç–∞ (lat) *</label>
					<input type="number" id="partnerLat" name="lat" class="form-input" step="any" required placeholder="53.905398" />
				</div>
				<div class="form-group">
					<label for="partnerLon" class="form-label">–î–æ–ª–≥–æ—Ç–∞ (lon) *</label>
					<input type="number" id="partnerLon" name="lon" class="form-input" step="any" required placeholder="27.333704" />
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary modal-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
					<button type="button" id="cancelPartnerBtn" class="btn btn-outline modal-btn">–û—Ç–º–µ–Ω–∞</button>
					<button type="button" id="deletePartnerBtn" class="btn btn-danger modal-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
				</div>
			</form>
		</div>
	</div>

	<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è -->
	<div id="driverModal" class="modal">
		<div class="modal-content modal-content-large">
			<h3 class="modal-title" id="driverModalTitle">–î–æ–±–∞–≤–∏—Ç—å –≤–æ–¥–∏—Ç–µ–ª—è</h3>
			<form id="driverForm" class="supplier-form">
				<div class="form-group">
					<label for="driverName" class="form-label">–§–ò–û *</label>
					<input type="text" id="driverName" name="name" class="form-input" required placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" />
				</div>
				<div class="form-group">
					<label for="driverPhone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
					<input type="tel" id="driverPhone" name="phone" class="form-input" placeholder="+375 29 123-45-67" />
				</div>
				<div class="form-group">
					<label for="driverLicense" class="form-label">–ù–æ–º–µ—Ä –≤–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è</label>
					<input type="text" id="driverLicense" name="license_number" class="form-input" placeholder="AB123456" />
				</div>
				<div class="form-group">
					<label for="driverLicenseExpiry" class="form-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è</label>
					<input type="date" id="driverLicenseExpiry" name="license_expiry" class="form-input" />
				</div>
			<div class="form-group">
				<label for="driverTelegram" class="form-label">Telegram Chat ID</label>
				<input type="number" id="driverTelegram" name="telegram_chat_id" class="form-input" placeholder="123456789" />
				<small class="form-hint">–î–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤. –í–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–ø–∏—Å–∞—Ç—å –±–æ—Ç—É /start</small>
			</div>
			<div class="form-group">
				<label for="driverNotes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
				<textarea id="driverNotes" name="notes" class="form-textarea" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
			</div>
			<div class="form-group">
				<label class="form-label checkbox-label">
					<input type="checkbox" id="driverShowInSchedule" name="show_in_schedule" checked />
					–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Å–º–µ–Ω
				</label>
			</div>
			<div class="form-actions">
				<button type="submit" class="btn btn-primary modal-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
				<button type="button" id="cancelDriverBtn" class="btn btn-outline modal-btn">–û—Ç–º–µ–Ω–∞</button>
				<button type="button" id="deleteDriverBtn" class="btn btn-danger modal-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
			</div>
		</form>
		</div>
	</div>

	<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è -->
	<div id="vehicleModal" class="modal">
		<div class="modal-content modal-content-extra-large">
			<h3 class="modal-title" id="vehicleModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å</h3>
			<form id="vehicleForm" class="supplier-form two-columns">
				<div class="form-group">
					<label for="vehiclePlate" class="form-label">–ì–æ—Å. –Ω–æ–º–µ—Ä *</label>
					<input type="text" id="vehiclePlate" name="plate_number" class="form-input" required placeholder="1234 AB-7" />
				</div>
				<div class="form-group">
					<label for="vehicleDriver" class="form-label">–í–æ–¥–∏—Ç–µ–ª—å</label>
					<select id="vehicleDriver" name="driver_id" class="form-input">
						<option value="">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</option>
					</select>
				</div>
				<div class="form-group">
					<label for="vehicleMileage" class="form-label">–ü—Ä–æ–±–µ–≥ (–∫–º)</label>
					<input type="number" id="vehicleMileage" name="mileage" class="form-input" min="0" placeholder="0" />
				</div>
				<div class="form-group">
					<label for="vehicleFuelConsumption" class="form-label">–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞ (–ª/100–∫–º)</label>
					<input type="number" id="vehicleFuelConsumption" name="fuel_consumption" class="form-input" min="0" step="0.1" placeholder="10.5" />
				</div>
				<div class="form-group">
					<label for="vehicleOilChangeMileage" class="form-label">–ü—Ä–æ–±–µ–≥ –∑–∞–º–µ–Ω—ã –º–∞—Å–ª–∞ (–∫–º)</label>
					<input type="number" id="vehicleOilChangeMileage" name="oil_change_mileage" class="form-input" min="0" placeholder="50000" />
				</div>
				<div class="form-group">
					<label for="vehicleOilInterval" class="form-label">–†–µ–≥–ª–∞–º–µ–Ω—Ç –∑–∞–º–µ–Ω—ã –º–∞—Å–ª–∞ (–∫–º)</label>
					<input type="number" id="vehicleOilInterval" name="oil_change_interval" class="form-input" min="0" placeholder="10000" />
				</div>
				<div class="form-group full-width">
					<label for="vehicleOilInfo" class="form-label">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∑–∞–º–µ–Ω–µ –º–∞—Å–ª–∞</label>
					<textarea id="vehicleOilInfo" name="oil_change_info" class="form-textarea" rows="2" placeholder="–¢–∏–ø –º–∞—Å–ª–∞ –∏ —Ç.–¥."></textarea>
				</div>
				<div class="form-group">
					<label for="vehicleInspectionStart" class="form-label">–¢–µ—Ö–æ—Å–º–æ—Ç—Ä —Å</label>
					<input type="date" id="vehicleInspectionStart" name="inspection_start" class="form-input" />
				</div>
				<div class="form-group">
					<label for="vehicleInspection" class="form-label">–¢–µ—Ö–æ—Å–º–æ—Ç—Ä –¥–æ</label>
					<input type="date" id="vehicleInspection" name="inspection_expiry" class="form-input" />
				</div>
				<div class="form-group">
					<label for="vehicleInsuranceStart" class="form-label">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ —Å</label>
					<input type="date" id="vehicleInsuranceStart" name="insurance_start" class="form-input" />
				</div>
				<div class="form-group">
					<label for="vehicleInsurance" class="form-label">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–æ</label>
					<input type="date" id="vehicleInsurance" name="insurance_expiry" class="form-input" />
				</div>
				<div class="form-group">
					<label for="vehiclePeriodStart" class="form-label">–ü–µ—Ä–∏–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (—Å)</label>
					<input type="date" id="vehiclePeriodStart" name="driver_period_start" class="form-input" />
				</div>
				<div class="form-group">
					<label for="vehiclePeriodEnd" class="form-label">–ü–µ—Ä–∏–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ)</label>
					<input type="date" id="vehiclePeriodEnd" name="driver_period_end" class="form-input" />
				</div>
				<div class="form-group full-width">
					<label for="vehicleNotes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
					<textarea id="vehicleNotes" name="notes" class="form-textarea" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary modal-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
					<button type="button" id="cancelVehicleBtn" class="btn btn-outline modal-btn">–û—Ç–º–µ–Ω–∞</button>
					<button type="button" id="deleteVehicleBtn" class="btn btn-danger modal-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
				</div>
			</form>
		</div>
	</div>

	<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏ -->
	<div id="roleModal" class="modal">
		<div class="modal-content">
			<div id="roleStep1" class="role-step">
				<h3 class="modal-title">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏</h3>
				<p class="role-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Ä–æ–ª—å</p>
				<div class="role-buttons">
					<button id="roleDriverBtn" class="role-btn-card" type="button">
						<div class="role-btn-icon">üöó</div>
						<div class="role-btn-label">–í–æ–¥–∏—Ç–µ–ª—å</div>
						<div class="role-btn-desc">–í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–≤–æ–µ–π –º–∞—à–∏–Ω–µ</div>
					</button>
					<button id="roleLogistBtn" class="role-btn-card" type="button">
						<div class="role-btn-icon">üìã</div>
						<div class="role-btn-label">–õ–æ–≥–∏—Å—Ç</div>
						<div class="role-btn-desc">–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º</div>
					</button>
				</div>
			</div>
			<div id="roleStep2Driver" class="role-step" style="display:none;">
				<h3 class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–±—è</h3>
				<div id="driverSelectList" class="driver-select-list"></div>
				<button id="backToRolesBtn" class="btn btn-outline" type="button" style="width:100%; margin-top:16px;">–ù–∞–∑–∞–¥</button>
			</div>
			<div id="roleStep2Logist" class="role-step" style="display:none;">
				<h3 class="modal-title">–í—Ö–æ–¥ –¥–ª—è –ª–æ–≥–∏—Å—Ç–∞</h3>
				<form id="logistForm">
					<div class="form-group">
						<label class="form-label">–ü–∞—Ä–æ–ª—å</label>
						<input type="password" id="logistPassword" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="off" />
						<div id="logistPasswordError" class="form-error" style="display:none; color:var(--danger); font-size:13px; margin-top:4px;">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>
					</div>
					<div style="display:flex; gap:8px; margin-top:16px;">
						<button type="submit" class="btn btn-primary" style="flex:1;">–í–æ–π—Ç–∏</button>
						<button type="button" id="backToRolesFromLogistBtn" class="btn btn-outline" style="flex:1;">–ù–∞–∑–∞–¥</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<!-- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞ —Å–º–µ–Ω—É (–≤–æ–¥–∏—Ç–µ–ª—å) -->
	<div id="driverEntryModal" class="modal">
		<div class="modal-content">
			<h3 class="modal-title" id="driverEntryTitle">–î–∞–Ω–Ω—ã–µ –∑–∞ —Å–º–µ–Ω—É</h3>
			<div id="driverEntryInfo" class="driver-entry-info"></div>
			<form id="driverEntryForm" class="supplier-form">
				<div class="form-group">
					<label class="form-label">–î–∞—Ç–∞ *</label>
					<input type="date" id="driverEntryDate" class="form-input" required />
				</div>
				<div class="form-group" id="driverEntryFuelLevelGroup" style="display:none;">
					<label class="form-label">–û—Å—Ç–∞—Ç–æ–∫ —Ç–æ–ø–ª–∏–≤–∞ –ø—Ä–∏ –≤—ã–µ–∑–¥–µ (–ª) *</label>
					<input type="number" id="driverEntryFuelLevel" class="form-input form-input-lg" min="0" step="0.1" placeholder="0" inputmode="decimal" />
					<small class="form-hint">–£–∫–∞–∂–∏—Ç–µ –¥–ª—è –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏</small>
				</div>
				<div class="form-group">
					<label class="form-label">–ü–æ–∫–∞–∑–∞–Ω–∏—è –æ–¥–æ–º–µ—Ç—Ä–∞ (–∫–º) *</label>
					<input type="number" id="driverEntryMileage" class="form-input form-input-lg" min="0" required placeholder="–¢–µ–∫—É—â–∏–π –∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂" inputmode="numeric" />
					<small class="form-hint">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è —Å–ø–∏–¥–æ–º–µ—Ç—Ä–∞</small>
				</div>
				<div class="form-group">
					<label class="form-label">–ó–∞–ø—Ä–∞–≤–∫–∞ (–ª–∏—Ç—Ä—ã)</label>
					<input type="number" id="driverEntryFuel" class="form-input form-input-lg" min="0" step="0.1" placeholder="0" inputmode="decimal" />
					<small class="form-hint">–ï—Å–ª–∏ –∑–∞–ø—Ä–∞–≤–∫–∏ –Ω–µ –±—ã–ª–æ ‚Äî –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º</small>
				</div>
				<div style="display:flex; gap:8px; margin-top:8px;">
					<button type="submit" class="btn btn-primary btn-lg" style="flex:1;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
					<button type="button" id="cancelDriverEntryBtn" class="btn btn-outline btn-lg" style="flex:1;">–û—Ç–º–µ–Ω–∞</button>
				</div>
			</form>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>
	<script>
	(function(){var v=__v,s=[
		'js/config.js','js/db.js','js/db-partners.js','js/db-vehicles.js','js/app.js',
		'js/vehicles.js','js/distribution-parser.js','js/distribution-geocoder.js',
		'js/distribution-algo.js','js/distribution.js'
	];s.forEach(function(f){document.write('<script src="'+f+'?v='+v+'"><\/script>');});})();
	</script>
</body>
</html>


